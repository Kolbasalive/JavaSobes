### Введение (основная классификация сетей)
 
Тип сети: 
 - Коммутация каналов (телефонная сеть)
 - Kоммутация пакетов (комп сети).

**Топология** - способ соединения компьютеров в сеть. 
По сути, представляет из себя граф, где *узлы* - компьютеры, а *ребра* - соединение между собой компьютеров.

Виды топологий: 
 - **Полносвязная**, все компьютеры соединены со всеми; 
 - **Ячеистая**, почти такая же как и полносвязная, но из неё удалены некоторые узлы; 
 - **Звезда**, подключаются все пк к одному устройству, распределителю; 
 - **Кольцо**, как связный список; 
 - **Дерево** - передача данных нескольких устройствам; 
 - **Смешанная топология** применяется чаще всего - комбинация звезды, дерево и др.; 

**Физическая топология** - соединения устройств в сети. 
**Логическая топология** - правило распространения сигналов в сети.

Например классический Ethernet - физически это звезда, а логический может быть как полносвязной, или общей шиной, или др.


#### Стандарты

**`ISO`** - Международная организация по стандартизации. Эталонная модель взаимодействия открытых систем.
**`IEEE`** - Институт инженеров по электронике и электротехнике. Технологии передачи данных.
**`LAB`** - Совет по архитектуре интернета. Протоколы интернет.
**`W3C`** - Стандарты Web.

### Уровни

Все компьютерные сети разбивают на **`уровни`**, каждый из которых отвечает за свою специфику передачи.
Самый первый - физический например, он не вникает в специфику что мы передаём, а просто обрабатывает и передаёт сигнал, чем выше, тем больше информации раскрывается в самом запросе передачи данных. 
 - Преимуществом такого подхода - это при изменении какого-то уровня, меняется только близлежащие уровни, а всё остальное остаётся без изменений.
Взаимодействие между уровнями определяется набором правил и команд - **протоколами**. Точно так же есть интерфейсы и сервисы для каждого уровня, как и стандартной разработке Java-приложения)

### Как всё работает в купе, уровни, инкапсуляция, протоколы...

При передаче какой-либо информации, неважно по какому протоколу, всегда есть разбиение по уровням. 
`Пример передачи сообщения по сети:`
Мы хотим передать сообщение, начинаем с третьего уровня, на котором есть просто **текст**. 
*На втором уровне* к нему добавляется **заголовок (2-ого уровня)**.
*На третьем уровне* ещё один **заголовок (3-его уровня)**, а так же возможен и **конецевик** (символ или байт, для определения конца данных)

При передаче этого сообщения с несколькими заголовками на второй компьютер по сети, второй компьютер на каждом уровне убирает по заголовку своего уровня, тем самым расшифровывая сообщение и приводя к исходному виду. 
Такой процесс называется - **`инкапсуляция`**
Это нужно для того, что бы каждый уровень знал, что делать с этими данными, ведь для передачи используется различные протоколы, и для каждого протокола, свои данные.
Например для канального уровня нужен MAC-адрес, который содержится в заголовке. Для сетевого: IP-адрес, TTL (время жизни пакета) и т.д.

**Интерфейс** нужен для определения какие методы есть для получение и отправки данных с уровня.
**Сервис** - сама реализация уровня, то есть, что уровень делает, как обрабатывает данные, зачастую как навешивает заголовки и концевики и как читает их.
**Протокол** описывает поведения взаимодействия сущностей находящейся на равных уровнях. Например, если 4 уровень на одном ПК использует TCP, то на другом, принимающем ПК 4 уровень тоже должен уметь обрабатывать это взаимодействие. 

### Модель OSI

*Open System Interconnection* - сетевая модель, описывающая как различные системные протоколы и устройства взаимодействуют между собой.

| OSI Уровень          | TCP/IP Уровень                  | Назначение                                               | Примеры протоколов                              | Устройства / Инструменты         |
| -------------------- | ------------------------------- | -------------------------------------------------------- | ----------------------------------------------- | -------------------------------- |
| **7. Прикладной**    | **4. Прикладной (Application)** | Взаимодействие с пользователем и приложениями            | HTTP, HTTPS, FTP, SMTP, DNS, SSH                | Браузеры, почтовые клиенты, CLI  |
| **6. Представления** | _—_ (в TCP/IP нет отдельного)   | Форматирование, шифрование, кодировка данных             | TLS/SSL, JPEG, MP3, ASCII, JSON, XML            | Шифровальщики, кодеки            |
| **5. Сеансовый**     | _—_ (в TCP/IP нет отдельного)   | Управление сессиями, диалогами                           | NetBIOS, PPTP, RPC                              | Сеансовые менеджеры              |
| **4. Транспортный**  | **3. Транспортный (Transport)** | Доставка данных, контроль ошибок                         | **TCP**, UDP, QUIC                              | Порты, сокеты, буферы ОС         |
| **3. Сетевой**       | **2. Сетевой (Internet)**       | Маршрутизация пакетов                                    | **IP**, ICMP, IGMP                              | Роутеры, маршрутизаторы          |
| **2. Канальный**     | **1. Канальный (Link)**         | Доставка кадров между устройствами в пределах одной сети | Ethernet, ARP, PPP, Wi-Fi, VLAN                 | Свитчи, сетевые карты            |
| **1. Физический**    | **1. Канальный (частично)**     | Передача битов по среде (кабели, радио)                  | Нет (физические стандарты: RS-232, 802.11, DSL) | Кабели, оптоволокно, радиомодули |

**1. Физический уровень** - меняя напряжение в витой паре, мы кодируем тем самым сигналы сети, то бишь, если напряжение 5В это 1, если 0В - это 0, и т.д.. Например в оптоволокне сигнал кодируется световыми импульсами, а в Wi-Fi - радиоволнами. Здесь говорится больше о физическом устройстве самого кабеля, тип кабеля (витая пара, оптоволокно), разъёмы и пины, скорость передачи и т.д..

**2. Канальный уровень** - основная функция - доставить **кадр (Frame)**, в целостности и сохранности. Он работает в пределах локальной сети, когда информация передаётся, то на определенном этапе этот frame раскрывается и ищёт подходящий mac-адрес устройства. Но только локально.

**`Frame`** - кадр, это последовательность байт, определённой структуры. 
Этот кадр как контейнер содержит:
 - **Заголовок**, в котором Mac-адрес получателя, отправителя, контрольная сумма и др. 
	 `Mac-адрес` - уникальный id сетевого интерфейса. Используется только локально для поиска нужного интерфейса.
 - **Полезная нагрузка** - данные которые передаются.
 - **Контроль ошибок** - механизм, обнаруживающий и исправляющий ошибки в передаче данных. НО, канальный уровень не гарантирует доставку, этим занимается уровень выше. (Например в Ethernet нет такой функции)
 
	! **Про контроль ошибок**. Отправитель формирует контрольную сумму (CRC) на основе данных в кадре и добавляет её в конец кадра. Получатель вычисляет свою CRC и сравнивает с пришедшей, если не совпадает, то ошибка.
 
 **Задачи** канального уровня:
 - Доставить кадр в между двумя соседними узлами;
 - Определение начала и конца кадра;
 - Обнаружение ошибок;
 - Mac-адресация.
 
 **В итоге**: канальный уровень обворачивает всё в кадры и накидывает Mac-адреса, для передачи другому устройству.

**3. Сетевой уровень** 
Основная сущность - **Пакет** - контейнер в который запакованы данные, и он снабжён IP-заголовком.
В нём указано:
 - IP-адрес отправителя
 - IP-адрес получателя 
 - Время жизни (TTL) 
	 Значение `TTL` - это число (обычно 64, 128...) обозначающее сколько прыжков может сделать пакет между роутерами. Это сделано для того, что бы избежать бесконечного цикла, что бы пакеты не крутились по кругу в сети.
 - Протокол верхнего уровня (TCP, UPD, ICMP)
 - И ещё немного всего
 
 Задачи уровня: 
 - **Маршрутизация** - выбор пути от источника до получателя через разные сети.
	 Когда ты отправляешь запрос на роутер, на сетевом уровне роутер смотрит на IP и буквально по *таблице маршрутизации*, определяет куда нужно отправить запрос (на какой следующий роутер), что бы он дошел до источника.
 - **Адресация** - IP-адреса позволяют идентифицировать устройства в сети.
 - **Фрагментация пакетов**, если слишком большие.
	 На каком то канале при передаче, может возникнуть случай, когда размер пакета превысил допустимое значение (максимальный объём, MTU - Maximum Transmission Unit). Тогда и разбивается на несколько маленьких пакетов, но в конечном счёте, при достижении нужного узла, они опять собираются воедино.
 - **Передача между сетями** 