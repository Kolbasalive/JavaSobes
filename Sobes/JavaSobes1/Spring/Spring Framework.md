Инверсия управления Ioc() - принцип, который позволяет передать управление созданием и жизненным циклом объектов (бинов) контейнеру Spring. Например, внедряет зависимости, или использует конфигурацию, для определения, какие бины создавать и как из связывать. 
Этот процесс контролирует `ApplicationContext` - в нём хранятся бины, объекты спринга.

Жизненный цикл `bean`-а:
- Создание экземпляра. 
- Заполнение свойств. Происходит внедрение зависимостей, опять же через `@Autowired` или аналога, тут же заполняются свойства по типу `@Value`.
- После внедрения зависимостей Spring позволяет выполнить логику внутри. (Можно открыть соединении с БД или загрузить ресурсы)
- Использование. Можно обращаться к нему из `ApplicationContext`.
- Уничтожение. 

`Scope` бина - его область видимости, 
- `Singleton` - по умолчанию стандартный скоп бина, все бины создаются с этим скопом. Одна реализация на все обращения к нему. Можно использовать `@Lazy` для ленивой инициализации, то есть при обращении.
- `Prototype` - создаётся новый экземпляр при каждом обращении к нему. `@Scope("prototype")`. Spring не управляет полностью жизненным циклом этого бина, то есть метод `@PreDestroy` не вызывается.
- `Request` - используется только для Web-приложений с WebApllicationContext, создаётся отдельный бин под каждый http запрос. `Scope("request")`
- `Session` - живёт только во время исполнения сессии http. Например, используется когда пользователь добавляет товары в корзину, это всё происходит в одной сессии.
- `WebSocket` под каждую сессию web-сокета. 

`@PostConstruct` - помечаем методы, которые будут вызывается сразу после создания бина.

### Что происходит когда приходит http запрос?
- `Tomcat` принимает его на одном потоке (Acceptor thread).
- После отдаёт задачу обработчику - `Worker thread` из `thread pool`.
- Поток обрабатывает контроллер (`@RestController`), выполняет бизнес-логику, и отправляет ответ.
- После поток обратно отправляется в пул и ждёт следующего клиента.
По умолчанию у `TomCat` 200 потоков